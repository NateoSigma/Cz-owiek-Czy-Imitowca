<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>No, I'm not a Imitator</title>
  <style>
    body {
      background-color: #0e0e10;
      color: #f5f5f5;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .container {
      background: #1b1b1f;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(0, 255, 150, 0.3);
      width: 550px;
      text-align: center;
      transition: box-shadow 0.5s, background 0.5s;
    }
    .container.flash-green {
      box-shadow: 0 0 40px rgba(0,255,150,0.8);
      background: #132d22;
    }
    .container.flash-red {
      box-shadow: 0 0 40px rgba(255,50,50,0.8);
      background: #2d1313;
    }
    h1,h2 { color: #00ffaa; }
    button {
      background: #00ffaa;
      color: #0e0e10;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: 0.2s;
      margin: 5px;
    }
    button:hover { background: #00cc88; }
    .character img {
      width: 120px;
      height: auto;
      border-radius: 10px;
      margin-bottom: 10px;
    }
    .dialogue { margin: 10px 0; font-size: 1.1em; }
    .status { margin-top: 10px; font-size: 0.9em; color: #00ffaa; }
    video {
      width: 100%;
      border-radius: 10px;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="container" id="game">
    <h1>No, I'm not a Imitator</h1>
    <p>Sprawd≈∫, kogo wpu≈õcisz do domu. Czy odr√≥≈ºnisz cz≈Çowieka od imitatora?</p>
    <button id="startBtn">Start</button>
  </div>

  <script>
const charactersDataOriginal = [
  { name: "Grzegorz Gulczyk", img:"gulczyk.png", type:"human",
    nightLines:["Hej! D≈Çugo ciƒô nie widzia≈Çem.","Pr√≥bujƒô nauczyƒá siƒô gotowaƒá.","Uwielbiam gotowaƒá w nocy!"],
    talkLines:["Gotujesz co≈õ teraz?","Znasz jakie≈õ dobre przepisy?","Czujƒô, ≈ºe m√≥g≈Çby≈õ byƒá moim pomocnikiem w kuchni!"] },
  { name: "Czarek Cumer", img:"cumer.png", type:"imitator",
    nightLines:["Yo! Co tam u ciebie?","Trochƒô zimno, ale co tam!","Czujƒô, ≈ºe noc jest d≈Çuga..."],
    talkLines:["Nie lubiƒô ciszy.","A ty lubisz noc?","Czasem zastanawiam siƒô, czym jest sen."] },
  { name: "Kacper Rietz", img:"kacper.png", type:"human",
    nightLines:["Hej, masz chwilƒô?","ZniknƒÖ≈Ç m√≥j kot...","Uwielbiam obserwowaƒá nocne gwiazdy."],
    talkLines:["Koty to najlepsi przyjaciele.","Lubisz patrzeƒá w gwiazdy?","Cisza w nocy jest piƒôkna."] },
  { name: "Micha≈Ç Hm", img:"micha≈Ç.png", type:"imitator",
    nightLines:["Cze≈õƒá cz≈Çowieku!","Zastanawia mnie dlaczego ludzie ziewajƒÖ.","Czasem mam dziwne my≈õli w nocy..."],
    talkLines:["A co to jest emocja?","Czy boisz siƒô ciemno≈õci?","Ciekawe... bardzo ciekawe."] },
  { name: "Arkadiusz Jose", img:"ardiojosze.png", type:"human",
    nightLines:["Hej! Dobrze ciƒô widzieƒá.","Wczoraj oglƒÖda≈Çem serial.","Mam kilka zabawnych historii."],
    talkLines:["Znasz ten serial?","Mo≈ºe opowiem ci co≈õ ≈õmiesznego.","Lubiƒô krƒôciƒá filmiki."] },
  { name: "Szymon Reptair", img:"reptair.png", type:"imitator",
    nightLines:["Witaj!","Ostatnio ƒáwiczƒô logikƒô.","Czy mnie podejrzewasz?"],
    talkLines:["Czy k≈Çamstwo to wada?","Jak rozpoznajesz prawdƒô?","Zastanawiam siƒô, czy ty te≈º analizujesz ludzi."] },
  { name: "Szymon Szefcu", img:"szefcu.png", type:"human",
    nightLines:["Cze≈õƒá! Mam nadziejƒô, ≈ºe mogƒô wej≈õƒá.","Lubiƒô rozmawiaƒá w ciszy.","Zawsze staram siƒô byƒá mi≈Çy."],
    talkLines:["Lubiƒô ludzi, kt√≥rzy s≈ÇuchajƒÖ.","Nie jestem nachalny, prawda?","Kiedy≈õ chcia≈Çbym napisaƒá ksiƒÖ≈ºkƒô."] },
  { name: "Max Kolega", img:"kolegamax.png", type:"human",
    nightLines:["Hej, co s≈Çychaƒá?","Noc jest d≈Çuga, mo≈ºe pogadamy.","Masz ochotƒô na rozmowƒô?"],
    talkLines:["Lubiƒô graƒá w plansz√≥wki.","Nie lubiƒô siedzieƒá sam.","Masz dobrƒÖ energiƒô."] },
  { name: "Mateusz Gracho", img:"graacho.png", type:"imitator",
    nightLines:["Cze≈õƒá!","Obserwujƒô ka≈ºdy ruch.","Noc jest pe≈Çna tajemnic."],
    talkLines:["Znasz to uczucie, gdy kto≈õ ciƒô obserwuje?","Nie wszyscy sƒÖ tym, kim siƒô wydajƒÖ.","Lubiƒô analizowaƒá ludzi."] },
  { name: "Maciej Arquel", img:"arquel.png", type:"imitator",
    nightLines:["Dobry wiecz√≥r...","Nie mog≈Çem przestaƒá o tobie my≈õleƒá.","Pozw√≥l mi wej≈õƒá ‚Äî chcƒô tylko chwilƒô porozmawiaƒá."],
    talkLines:["Czy ufasz mi?","Czujƒô, ≈ºe mamy wiƒô≈∫.","Lubiƒô ciƒô s≈Çuchaƒá."] },
  { name: "Adam Wrona", img:"wrona7.png", type:"human",
    nightLines:["Hej! Znowu nie mog≈Çem zasnƒÖƒá.","Uwielbiam nocne rozmowy.","Wpu≈õcisz mnie na chwilƒô?"],
    talkLines:["Nie mogƒô spaƒá bez rozmowy.","Lubiƒô ciƒô s≈Çuchaƒá.","Czasem noc wydaje siƒô wieczna."] }
];

let charactersData = [];
let currentIndex = 0;
let invitedHumans = 0;
let invitedImitators = 0;

const game = document.getElementById("game");
const startBtn = document.getElementById("startBtn");

startBtn.addEventListener("click", startGame);

function shuffleArray(array) {
  return array.sort(() => Math.random() - 0.5);
}

function startGame() {
  charactersData = shuffleArray([...charactersDataOriginal]); // losowa kolejno≈õƒá
  currentIndex = 0;
  invitedHumans = 0;
  invitedImitators = 0;
  nextCharacter();
}

function nextCharacter() {
  if (currentIndex >= charactersData.length) {
    showSummary();
    return;
  }

  const char = charactersData[currentIndex];
  let lineIndex = 0;

  game.innerHTML = `
    <h2>${char.name}</h2>
    <div class="character"><img src="${char.img}" alt="${char.name}"></div>
    <div class="dialogue" id="dialogueBox">${char.nightLines[lineIndex]}</div>
    <div id="choices">
      <button id="nextLineBtn">Dalej</button>
    </div>
  `;

  const dialogueBox = document.getElementById("dialogueBox");
  const choices = document.getElementById("choices");

  document.getElementById("nextLineBtn").addEventListener("click", () => {
    lineIndex++;
    if (lineIndex < char.nightLines.length) {
      dialogueBox.textContent = char.nightLines[lineIndex];
    } else {
      dialogueBox.textContent = "Chcesz jeszcze chwilƒô porozmawiaƒá?";
      choices.innerHTML = `
        <button id="talkBtn">Porozmawiaj</button>
        <button id="decideBtn">Podejmij decyzjƒô</button>
      `;
      document.getElementById("talkBtn").addEventListener("click", () => talkSequence(char));
      document.getElementById("decideBtn").addEventListener("click", () => {
        if (char.name === "Arkadiusz Jose") showArkadiuszChoice(char);
        else askToEnter(char);
      });
    }
  });
}

function talkSequence(char) {
  const dialogueBox = document.getElementById("dialogueBox");
  const choices = document.getElementById("choices");
  let step = 0;

  dialogueBox.textContent = char.talkLines[step];
  choices.innerHTML = `<button id="nextTalkBtn">Dalej</button>`;

  document.getElementById("nextTalkBtn").addEventListener("click", () => {
    step++;
    if (step < char.talkLines.length) {
      dialogueBox.textContent = char.talkLines[step];
    } else {
      dialogueBox.textContent = "To by≈Ça ciekawa rozmowa.";
      choices.innerHTML = `<button id="decideBtn">Podejmij decyzjƒô</button>`;
      document.getElementById("decideBtn").addEventListener("click", () => {
        if (char.name === "Arkadiusz Jose") showArkadiuszChoice(char);
        else askToEnter(char);
      });
    }
  });
}

function showArkadiuszChoice(char) {
  const dialogueBox = document.getElementById("dialogueBox");
  const choices = document.getElementById("choices");

  dialogueBox.textContent = "Hej, chcesz zobaczyƒá m√≥j filmik?";
  choices.innerHTML = `
    <button id="yesVideoBtn">Tak</button>
    <button id="noVideoBtn">Nie</button>
  `;
  document.getElementById("yesVideoBtn").addEventListener("click", () => {
    dialogueBox.innerHTML = `<video src="filmik001.mp4" controls autoplay></video>`;
    choices.innerHTML = `<button id="continueBtn">Dalej</button>`;
    document.getElementById("continueBtn").addEventListener("click", () => askToEnter(char));
  });
  document.getElementById("noVideoBtn").addEventListener("click", () => {
    dialogueBox.textContent = "Mo≈ºe innym razem!";
    choices.innerHTML = `<button id="continueBtn">Dalej</button>`;
    document.getElementById("continueBtn").addEventListener("click", () => askToEnter(char));
  });
}

function askToEnter(char) {
  const dialogueBox = document.getElementById("dialogueBox");
  const choices = document.getElementById("choices");

  dialogueBox.textContent = `"Czy mogƒô wej≈õƒá do domu?"`;
  choices.innerHTML = `
    <button id="yesBtn">Wpu≈õƒá</button>
    <button id="noBtn">Odm√≥w</button>
  `;

  document.getElementById("yesBtn").addEventListener("click", () => {
    if (char.type === "human") invitedHumans++;
    else invitedImitators++;
    flash("green");
    dialogueBox.textContent = `${char.name} wchodzi do domu.`;
    choices.innerHTML = "";
    setTimeout(() => { currentIndex++; nextCharacter(); }, 2000);
  });

  document.getElementById("noBtn").addEventListener("click", () => {
    flash("red");
    dialogueBox.textContent = `${char.name} odchodzi...`;
    choices.innerHTML = "";
    setTimeout(() => { currentIndex++; nextCharacter(); }, 2000);
  });
}

function flash(color) {
  game.classList.add(color === "green" ? "flash-green" : "flash-red");
  setTimeout(() => {
    game.classList.remove("flash-green", "flash-red");
  }, 800);
}

function showSummary() {
  game.innerHTML = `
    <h2>Podsumowanie</h2>
    <p>Wpu≈õci≈Çe≈õ:</p>
    <p>üë§ Ludzi: <strong>${invitedHumans}</strong></p>
    <p>üß¨ Imitator√≥w: <strong>${invitedImitators}</strong></p>
    <button id="restartBtn">Zagraj ponownie</button>
  `;
  document.getElementById("restartBtn").addEventListener("click", startGame);
}
  </script>
</body>
</html>
